"use strict";
(()=>{var o=".js-copy",h=".js-copy__text",T=".js-copy__active-text",d=".js-copy__btn",x="data-copy-btn",c="copied";var E=(n=document)=>{n.querySelectorAll(o).forEach(t=>new s(t))},s=class{constructor(t){this.el=t,this.copyTextEl=t.querySelector(h),this.innerBtns=t.querySelectorAll(d),this.externalBtns=document.querySelectorAll(`[${x}="${t.dataset.copyBtn}"]:not(${o})`),this.activeText=t.dataset.active,this.init()}init(){let t=e=>this.handleCopy(e);this.innerBtns.length?this.innerBtns.forEach(e=>e.addEventListener("click",t)):this.el.addEventListener("click",t),this.externalBtns.forEach(e=>e.addEventListener("click",t))}async handleCopy(t){let e=t.currentTarget,i=this.el.querySelector(T)||e;e.blur(),!e.dataset.initialText&&this.activeText&&(e.dataset.initialText=i.textContent.trim());let r=this.el.getBoundingClientRect().width;this.el.style.width=`${r}px`;let a=this.copyTextEl?this.copyTextEl.textContent:i.textContent;try{await navigator.clipboard.writeText(a),this.el.classList.add(c),this.activeText&&(i.textContent=this.activeText),clearTimeout(e.timerId),e.timerId=setTimeout(()=>{this.resetUI(e,i)},1e3)}catch(l){console.error("Failed to copy text:",l)}}resetUI(t,e){this.el.classList.remove(c),this.activeText&&(e.textContent=t.dataset.initialText),this.el.removeAttribute("style")}};E();})();
